<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
/**
 * OrangeHRM is a comprehensive Human Resource Management (HRM) System that captures
 * all the essential functionalities required for any enterprise.
 * Copyright (C) 2006 OrangeHRM Inc., http://www.orangehrm.com
 *
 * OrangeHRM is free software; you can redistribute it and/or modify it under the terms of
 * the GNU General Public License as published by the Free Software Foundation; either
 * version 2 of the License, or (at your option) any later version.
 *
 * OrangeHRM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with this program;
 * if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 * Boston, MA  02110-1301, USA
 *
 */
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>OrangeHRM Upgrade Guide</title>
<link href="./style.css" rel="stylesheet" type="text/css" />
<link href="favicon.ico" rel="icon" type="image/gif" />
</head>

<body>
<div id="content">
<h1>Upgrade Guide</h1>
<!-- Contents -->

<div id="contents" class="section">
<h2>Contents</h2>
<p>
<ol class="content_table">
	<li><a href="#overview">Overview</a></li>
	<li><a href="#upgrade">Upgrade</a>
	<ol class="content_table_sub">
		<li><a href="#backupfiles">Backup files</a></li>	
		<li><a href="#copying">Copying files</a></li>
		<li><a href="#extracting">Extracting</a></li>
	</ol>
	</li>
	<li><a href="#webupgrade">Web Upgrade</a>
	<ol class="content_table_sub">
		<li><a href="#welcome">Welcome Screen</a></li>
		<li><a href="#license">License Acceptance</a></li>
		<li><a href="#disclaimer">Disclaimer</a></li>
		<li><a href="#old">OrangeHRM 1.2/2.0/2.1</a></li>
		<li><a href="#backup">Backup Data</a></li>
		<li><a href="#DBCreation">Database Creation</a></li>
		<li><a href="#syscheck">System Check</a></li>
		<li><a href="#upload">Upload</a></li>
		<li><a href="#installing">Upgrading</a></li>
		<li><a href="#notes">Upgrade Notes</a></li>		
		<li><a href="#registration">Registration</a></li>
	</ol>
	</li>
</ol>
</p>

<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>
</div>
<!-- Overview -->

<h2>Who Should Read This Guide</h2>
<p>This guide is meant for users using the in-built Web Upgrader (a
step-by-step upgrade/data migration wizard), which is the default and
recommended method of upgrading OrangeHRM. However technical users who
wish to manually configure OrangeHRM can refer the <a class="see"
	href="../../faq.html">OrangeHRM FAQ</a>.</p>
<div id="overview" class="section">
<h2>Overview</h2>
<p>This guide describes how to upgrade previous OrangeHRM to OrangeHRM
2.2. It is intended for experienced administrators and novices alike.
After upgrading, you will be able to use the new functionality while
preserving your data.</p>

<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>

</div>

<!-- Installation -->

<div id="upgrade" class="section">
<h2>Upgrade</h2>
<div class="warning">
	If you are using XAMPP remember to enable InnoDB support. 
	See <a href="#howToEnableInnoDB" class="see">How to enable InnoDB support in MySQL</a>.
</div>
<h3 id="backupfiles">Backup files</h3>
<p>Rename your existing OrangeHRM installation directory to avoid it being overwritten by files 
from the new version. Your existing OrangeHRM installation would be under the document root of 
the Apache HTTP Server. See <a href="#copying" class="see">Copying files</a> for information on
locating the document root.</p>

<div class="notes">
<p>Example: If your old installation directory was:</p>
<p class="bash">C:\Program Files\xamp\htdocs\orangehrm2</p>
<p>you can rename it to:</p><p class="bash">C:\Program Files\xamp\htdocs\orangehrm2_bak</p>
</div>

<h3 id="copying">Copying files</h3>
<p>Copy <span class="code">OrangeHRM-ver-2.2.zip</span> into the
document root of the Apache HTTP Server.</p>

<div class="notes">
<h4>Notes</h4>
<p>If you used XAMP for Windows, document root is <br />
<p class="bash">&lt;XAMP Installed Location&gt;\htdocs\</p>
</p>
<p class="bash">ex. C:\Program Files\xampp\htdocs</p>
</p>
<p>If you used XAMPP Linux AMP stack, document root is <br />
<p class="bash">&lt;XAMPP Installed Location&gt;/htdocs/</p>
</p>
</div>

<h3 id="extracting">Extracting</h3>
<p>Extract <span class="code">OrangeHRM-ver-2.2.zip</span> into the
same folder. (i.e. Extract here). This will create a new directory named <span class="code">orangehrm2</span>
under the document root of Apache.</p>

<h3>Web Upgrade</h3>
<p>Using a JavaScript enabled browser goto <span class="code">http://&lt;webhost&gt;/orangehrm/upgrade.php</span><br />
<br />
Where <span class="code">&lt;webhost&gt;</span> is <span class="code">localhost</span>
if it is installed in the machine you are currently working on, IP
address if it is remotely hosted (i.e. external to the machine you are
using. <br />
<br />
See <a href="#webupgrade" class="see">Web Upgrade</a>.</p>

<div class="notes">
<h4>Recommended Browsers</h4>
<p>
<ul>
	<li><a href="http://www.mozilla.com/firefox/" class="external"
		target="_blank">Mozilla Firefox</a> 1.0 or later.</li>
	<li>Microsoft<sup>&reg;</sup> Internet Explorer 5.5 or later.</li>
</ul>
</p>
</div>
<br />
<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>

</div>

<!-- Web Upgrade -->

<div id="webupgrade" class="section">
<h2>Web Upgrade</h2>
<div class="warning">
	If you are using XAMPP remember to enable InnoDB support. 
	See <a href="#howToEnableInnoDB" class="see">How to enable InnoDB support in MySQL</a>.
</div>
<p>Web upgrade will be briefly described here.</p>

<h3 id="welcome">Welcome Screen</h3>
<p>It will state which version of OrangeHRM will be installed and
briefly what it would be doing to install OrangeHRM</p>
<p>Click <b>[Next]</b> button in the Welcome screen to proceed with
the installation</p>

<h3 id="license">License Acceptance</h3>

<p>Here you will be provided with a copy of the <a
	href="http://www.gnu.org/licenses/gpl.html" class="external"
	target="_blank">GNU GENERAL PUBLIC LICENSE</a> and to continue the
installation you will have to accept the license. If you decline simply
discontinue the installation and delete all OrangeHRM files you posses.</p>

<p>Click <b>[Accept]</b> button in the License Acceptance screen if
you accept the terms and conditions of the license. Then you will be
taken to the next page of the Web Upgrader.</p>

<h3 id="disclaimer">Disclaimer</h3>

<p>Upgrader has been tested for most scenarios, but we cannot be
sure whether we have covered all scenarios. Disclaimer there to let you
know that we are not responsible for the actions of the upgrader. To
continue the upgrade you will have to accept the disclaimer. If you
decline simply discontinue the upgrade.</p>

<p>Click <b>[Accept]</b> button in the Disclaimer screen if you
accept the the disclaimer. Then you will be taken
to the next page of the Web Upgrader.</p>

<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>

<h3 id="old">OrangeHRM 1.2/2.0/2.1</h3>
<p>Enter the relative location of the previous installation of
OrangeHRM in the textbox. This should be the directory that you renamed your previous installation
to in the <a href="#backupfiles" class="see">Backup files</a> section.</p>
<p>You can only upgrade from version 1.2 or later to the current version.</p>
<p>Click <b>[Next]</b> button in this Screen to continue.</p>

<div class="notes">
<h5>Example</h5>
<p>If your previous OrangeHRM version was installed under the same parent directory as OrangeHRM 2.2, and you renamed
it to <span class="code">orangehrm2_bak</span>in the <a href="#backupfiles" class="see">Backup files</a> section, 
you should enter <span class="code">orangehrm2_bak</span>.</p>
</div>

<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>

<h3 id="backup">Backup Data</h3>
<p>Database backup file should download in a little while after
Backup Data screen loads. Save this file safely. Please do not save the
file in the same location as installation of OrangeHRM. The file could
be deleted.</p>
<p>If the download doesn't start immediately click the link to
download the Database backup file.</p>
<p>If you do not save this file you cannot continue with the
upgrade.</p>
<p>Select <b>[Downloaded]</b> tick box and click <b>[Next]</b>
button in Backup Data screen to continue.</p>

<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>

<h3 id="DBCreation">Database Creation</h3>

<p>Enter the relevant information about your MySQL database server
and database users.<br> Click 
<b>[Next]</b> in Database Creation screen to continue.</p>


<div class="notes">
<h4>Notes</h4>

<h5>Privileged Database Users and OrangeHRM Database Users</h5>
<p>Database users could be assigned different rights. There may be users who can't 
create databases, users or perform certain database operations but are allowed to 
view data in the databse. A privileged user is a user with rights to perform all database 
operations.</p>
<p>OrangeHRM database user doesn't have to be a privileged user.
OrangeHRM database user only needs the rights to INSERT, UPDATE, SELECT
and DELETE.</p>
<p>Since the database user details are stored in the file in plain
text it would be a security threat to have OrangeHRM database user to be
the Privileged user.</p>
<h5>Make a wise decision!</h5>
</div>

<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>

<h3 id="syscheck">System Check</h3>
<div class="warning">
	If you are using XAMPP remember to enable InnoDB support. 
	See <a href="#howToEnableInnoDB" class="see">How to enable InnoDB support in MySQL</a>.
</div>
<p>Here the Web Upgrader will check whether the <a
	href="../../installer/guide/#pre-requisities" class="see"
	target="_blank">Pre-requisites</a> are available.</p>

<p>If all responses are in green you can safely continue. You have
installed the correct versions of the Pre-requisites and configured
them to work in harmony.</p>

<p>See below for all the possible color codes<br />
<br />
<div class="screenshot"><img src="../images/system_check_01.gif"
	alt="System Check" width="797" height="188" /></div>
<p class="caption">Rare occurance where all three states are in the
same screen.</p>
</p>

<p>Click <b>[Next]</b> button in the System Check screen to
continue.</p>

<div class="notes">
<h4>Notes</h4>
<h5>Maximum Session Idle Time before Timeout</h5>
<p>Maximum Session Idle Time before Timeout is checked to ensure
that users don't get logged out within a short period such as less than
15 minutes. As a precaution it's not possible to continue installing
OrangeHRM if the session times out in less than 2 minutes.</p>
<h5>How to Fix</h5>
<p>You will have to change <span class="code">session.gc_maxlifetime</span>
in the <span class="code">php.ini</span> file. (Default <span
	class="code">session.gc_maxlifetime = 1440</span>)</p>
<h5>Important</h5>
<p>It is still possible that some other php application running in
the same server is overriding <span class="code">session.gc_maxlifetime</span>
value in the <span class="code">php.ini</span> file at runtime. This
will be the case if you are running OrangeHRM in a shared host.
Workaround is available but beyond the scope of this document.</p>
<h4 id="howToEnableInnoDB">How to enable InnoDB support in MySQL</h4>
<p>To enable "InnoDB" please open "my" (or "my.cnf") file in a text editor and search for "skip-innodb" and add the leading "#" restart the MySQL database server to enable InnoDB.</p>  
<p class="bash">
ex: <br>
.<br>
.<br>
.<br>
skip-innodb<br>
.<br>
.<br>
.<br>
should read as<br> 
.<br>
.<br>
.<br>
#skip-innodb<br>
.<br>
.<br>
.<br/>
</p>
<p>(in XAMPP for windows my.cnf is found in C:\xampp\mysql\bin\my.cnf)<br>
(in XAMPP for linux my.cnf is found in /opt/lampp/etc/my.cnf)
</p>
</div>

<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>

<h3 id="upload">Upload</h3>
<p>Upload the Database backup file downloaded in <a href="#backup"
	class="see">Backup Data</a> screen. Without uploading you cannot
continue.</p>

<div class="notes">
<h4>Notes</h4>

<p>Upgrade will begin immediately. Once you click <b>[Next]</b>
there is no way that you can stop the upgrade from starting. You cannot
roll back the upgrade as well. Click <b>[Next]</b> only if you are sure
that you want to upgrade with the given configuration.</p>
</div>

<h3 id="installing">Upgrading</h3>

<p>Here you will be shown the progress of the upgrade. Once the
upgrade is completed the <b>[Next]</b> button will be enabled. Click <b>[Next]</b>
button in the Upgrading screen to continue.</p>

<p>If an error occurs during the upgrade the whole upgrade will be
aborted. <br />
Click <b>[Clean Up Upgrade]</b> to go to previous pages to correct the
error and start the upgrade again. See <a href="#installing_error"
	class="see">screenshots</a></p>


<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>

<p><a href="#registration" class="skip">[Skip screenshots]</a></p>

<h4>Following are sample screenshots of the Installing screen</h4>

<div class="screenshot"><img src="../images/installing_01.gif"
	alt="Installing 01" /></div>
<p class="caption">Installation has just started.</p>
<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>
<br />
<br />

<div class="screenshot"><img src="../images/installing_02.gif"
	alt="Installing 02" /></div>
<p class="caption">Installation in progress.</p>
<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>
<br />
<br />

<div class="screenshot"><img src="../images/installing_03.gif"
	alt="Installing 03" /></div>
<p class="caption">Installation has finished successfuly.</p>
<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>
<br />
<br />

<div class="screenshot" id="installing_error"><img
	src="../images/installing_error_01.gif" alt="Installing Error 01" /></div>
<p class="caption">Installation has been aborted due to an error.</p>
<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>
<br />

<h3 id="notes">Upgrade Notes</h3>
<p>After the upgrade is complete, you will see a screen with important information.</p>
<p>Please go through it carefully and take note of any actions you need to take.</p>
<p>Click <b>[Next]</b> button to continue.</p>

<h3 id="registration">Registration</h3>
<p>If you want be up to date on news about OrangeHRM, please provide
your e-mail address and a name that the e-mails should be addressed to. It
will be much appreciated if you register here, then we will know how
many users have successfuly upgraded to OrangeHRM 2.2.</p>
<p>Even if you have already registered during a previous installation of
OrangeHRM, it's all right to register. We will be considering the last
registration when sending updates and news.</p>
<p>You can also provide your comments.
<p>
<p>If you want to receive updates or newsletter select the tick box
<b>[Updates/Newsletter].</b> Click <b>[Register]</b> to send the
information.</p>
<p>If the registration is successful you can click <b>[Login to
OrangeHRM]</b> to Login to OrangeHRM.</p>
<p>If you don't want to register click <b>[No thanks!]</b>.</p>

<div class="notes">
<h4>Notes</h4>

<p>If the sending of registration Information fails an error message
will be shown. Click <b>[Retry]</b> to send the details again or <b>[Skip]</b>
to skip this step an you will not be registered.</p>
</div>
<br />

<h3>Login into OrangeHRM</h3>
<p>Now use your username and password used for older OrangeHRM installation to
login into OrangeHRM 2.2.</p>
<div class="navigate"><a href="javascript:window.history.go(-1);"><img
	src="../images/back.gif" width="15" height="15" border="0" class="back" /></a>
<a href="#"><img src="../images/top.gif" width="15" height="15"
	border="0" class="top" /></a></div>

</div>
<div id="footer"><a href="http://www.orangehrm.com"
	target="_blank" tabindex="37">OrangeHRM</a> Upgrade Guide ver 1.1
&copy; OrangeHRM Inc. 2005 - 2007 All rights reserved.</div>
</div>
</body>
</html>
